<div class="cart-page">
  <!-- Header -->
  <header class="cart-header">
    <button class="back-btn" (click)="goBack()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <h1>Your Cart</h1>
    <div class="cart-count">5 items</div>
  </header>

  <div class="cart-content" *ngIf="cartItems.length > 0; else emptyCart">
  <div class="cart-items-list">
    <div class="cart-item" *ngFor="let item of cartItems">
      <!-- Meal Image -->
      <div class="item-image">
        <img [src]="item.image" [alt]="item.name" />
      </div>

      <!-- Details -->
      <div class="item-details">
        <h3>{{ item.name }}</h3>
        <p class="item-description">{{ item.description }}</p>

        <!-- Days Selection -->
        <label>
          Days:
          <select [(ngModel)]="item.selectedDays" (change)="updateDays(item, item.selectedDays)">
            <option *ngFor="let day of availableDayOptions" [value]="day">{{ day }} Days</option>
          </select>
        </label>

        <!-- Price Display -->
        <p class="item-price">
          R{{ item.price[item.selectedDays] }} for {{ item.selectedDays }} days = 
          <strong>R{{ item.price[item.selectedDays] }}</strong>
        </p>
      </div>

      <!-- Remove Button -->
      <div class="item-actions">
        <button class="remove-btn" (click)="removeItem(item)">
          Remove
        </button>
      </div>
    </div>
  </div>

  <!-- Summary -->
  <div class="order-summary">
    <h3>Order Summary</h3>
    <p><strong>Total:R{{ total | number:'1.2-2' }}</strong> </p>
    <button class="confirm-btn" (click)="confirmOrder()">Confirm Order</button>
  </div>
</div>

  <!-- Empty State -->
  <ng-template #emptyCart>
    <div class="empty-cart">
      <h2>Your cart is empty</h2>
      <p>Add some delicious meals from the menu!</p>
      <button (click)="goBack()">Continue Shopping</button>
    </div>
  </ng-template>   
</div>